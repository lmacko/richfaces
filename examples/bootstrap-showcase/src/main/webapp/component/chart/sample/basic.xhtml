<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:r="http://richfaces.org" xmlns:h="http://java.sun.com/jsf/html">
<h:form>

	<r:chart title="Countries by carbon dioxide emissions per capita">
		<r:repeat value="#{chartBean.countries}" var="country">
			<r:series label="#{country.name}" type="line">
				<r:repeat value="#{country.data}" var="record">
					<r:point x="#{record.year}" y="#{record.tons}" />
				</r:repeat>
			</r:series>
		</r:repeat>
		<r:xaxis label="year" />
		<r:yaxis label="metric tons of CO2 per capita" />
	</r:chart>

	<r:chart id="bar" title="GDP sector composition">
		<r:legend sorting="ascending" />
		<r:repeat value="#{chartBean.gdp}" var="country">
			<r:series label="#{country.state}" type="bar">
				<r:point x="Agricultural" y="#{country.agricult}" />
				<r:point x="Industrial" y="#{country.industry}" />
				<r:point x="Service" y="#{country.service}" />
			</r:series>
		</r:repeat>
	</r:chart>

	<r:chart id="pie" title="USA GDP">
		<r:legend sorting="ascending" />
		<r:series data="#{chartBean.pie}" type="pie" />
	</r:chart>

</h:form>
</ui:composition>
